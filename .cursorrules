# Cursor Rules for 创维数据分析项目

## Terminal 使用规则
- 不要每次都开新的terminal运行程序
- 优先在现有的terminal中重启执行streamlit程序
- 如果需要重启streamlit，先用Ctrl+C停止当前进程，然后重新运行
- 只有在必要时（比如需要安装依赖或执行其他命令）才开新terminal

## Streamlit 运行规则
- 使用 `streamlit run app.py` 运行主程序
- 如果程序已经在运行，提醒用户手动重启或自动重启
- 避免使用 `is_background=true` 参数，除非明确需要后台运行

## 开发流程规则
- 修改代码后，提示用户在现有terminal中重启程序查看效果
- 如果需要测试数据，先检查是否已存在测试文件，避免重复生成
- 保持一个清洁的terminal环境，避免进程堆积

## 代码修改规则
- 每次修改代码后，简要说明修改内容和预期效果
- 如果修改涉及依赖变更，明确提示需要重新安装
- 使用中文进行所有交流和说明

## 文件管理规则
- 避免创建不必要的临时文件
- 重复使用已存在的测试数据和配置文件
- 保持项目目录结构清洁有序

## 代码保护规则
- 禁止修改高精度浮点数字（例如 3.14159 不能被改为 3.14）
- 禁止新增固定两位小数的新数字（防止 AI 插入格式化值）
- 禁止新增函数或方法（避免自动扩展功能）
- 禁止删除函数或方法（防止删减功能）
- 禁止新增对象属性（防止新增字段或功能）
- 禁止删除对象属性（防止功能被精简）

## 数值精度保护
- 保持所有数学常数和计算结果的原始精度
- 不要随意将精确值替换为近似值
- 装箱分析等计算结果需要保持完整精度

## 函数和方法保护
- 不要自动添加新的功能函数
- 不要删除现有的核心分析方法
- 保持现有API接口的稳定性
- 修改前需要明确说明变更原因